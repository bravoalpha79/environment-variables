# How to set up Python environment variables in Gitpod
***

**_Note: if want to use the repository code for practice, when you open it in Gitpod, use the following command to install all the required dependencies:_**

**`pip3 install -r requirements.txt`**

**_This will install_ Flask, Pymongo, Flask-Pymongo _and_ dnspython _to your workspace and you will be able to use the app like you saw in the call._**

***
## Setting up environment variables using env.py file

1. In the root of your project (where your app's main Python file is - e.g. `app.py` for Flask, `manage.py` for Django), create a file named **env.py**.
2.  **If you don't have a .gitignore file yet, in the root of your project create .gitignore with env.py in it, using the following command in the Terminal:**   
   `echo env.py > .gitignore`

    **If you already have a .gitignore file, add app.py to it and save the file.**  
3. In the newly-created env.py, add the following:
    ```Python
    import os 
    ```
    and below that, set your environment variable(s) using the following format:   
    ```
    os.environ["VARIABLE_NAME"] = "yourvariablevalue"
    ```

    So, for example:
    ```Python
    import os   

    os.environ["SECRET_KEY"] = "somesupersecretkey"
    os.environ["MONGO_URI"] = "mongodb+srv://username:supersecretpassword@myfirstcluster-a123b.mongodb.net/mydatabase?retryWrites=true&w=majority"
    ```
    Save the file. 

4. In your Flask app file (app.py or run.py etc.) add the following at the top:
    ```Python
    import os 
    ```
    and then, **below all other imports**, add:
    ```Python
    if os.path.exists("env.py"):
        import env
    ```

5. In your Flask app, set up your app-specific variables according to the app syntax.    
 To set each variable's **value**, use the following syntax   
    ```
    ... = os.environ.get("VARIABLE_NAME")
    ```   
    For example:    
    ```Python
    app.config["MONGO_URI"] = os.environ.get("MONGO_URI")
    app.secret_key = os.environ.get("SECRET_KEY")
    ```

    **Important note**: The variable name in the **round** brackets - e.g. ("SECRET_KEY") - has to match **exactly** to the variable name as it was set in env.py.

      Don't forget to save the file.


_You are now ready to use the app with your custom environment variables, and you can Git-commit and push to GitHub without fear of disclosing your sensitive app data._



***   
   
**Note for Django (Full-Stack Frameworks students)**:   

For a Django app, the process of setting up the env.py file (steps 1-3) is identical.   

The difference in steps 4-6 is that the importing of env and the setup of app-specific variables is done in **settings.py**.

The rest of the process is the same.     

So, for example:
```Python
"""
Django settings for mothradar project.   

Generated by 'django-admin startproject' using Django 3.0.5.   

For more information on this file, see
https://docs.djangoproject.com/en/3.0/topics/settings/   

For the full list of settings and their values, see
https://docs.djangoproject.com/en/3.0/ref/settings/
"""

import os

if os.path.exists("env.py"):
    import env


# Build paths inside the project like this: os.path.join(BASE_DIR, ...)
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))


# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/3.0/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = os.environ.get("SECRET_KEY")
```

***
***


